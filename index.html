<!DOCTYPE html>
<html lang="zh-HK">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ€æ–°éŠ€ä¸»ç›¤</title>
    <meta name="description" content="æœå°‹æœ€æ–°éŠ€ä¸»ç›¤">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ </text></svg>">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .property-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
        }
        
        .property-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15);
        }
        
        .search-input:focus {
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
            transform: scale(1.02);
        }
        
        .filter-button.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }
        
        .price-gradient {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .hero-gradient {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.95) 0%, rgba(118, 75, 162, 0.95) 100%);
        }
        
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // Configuration - Updated with your Vercel URL
        const API_CONFIG = {
            // For development (if running locally)
            development: 'http://localhost:3000',
            // For production - Your actual Vercel URL
            production: 'https://property-search-app.vercel.app',
            // Auto-detect current environment
            current: window.location.hostname === 'localhost' ? 'development' : 'production'
        };

        const getApiUrl = () => {
            const baseUrl = API_CONFIG[API_CONFIG.current];
            return `${baseUrl}/api/properties`;
        };

        // Simple icon components with improved styling
        const Search = () => React.createElement('svg', { width: 20, height: 20, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2, strokeLinecap: 'round', strokeLinejoin: 'round' },
            React.createElement('circle', { cx: 11, cy: 11, r: 8 }),
            React.createElement('path', { d: 'm21 21-4.35-4.35' })
        );

        const Filter = () => React.createElement('svg', { width: 16, height: 16, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2, strokeLinecap: 'round', strokeLinejoin: 'round' },
            React.createElement('polygon', { points: '22,3 2,3 10,12.46 10,19 14,21 14,12.46' })
        );

        const MapPin = () => React.createElement('svg', { width: 16, height: 16, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2, strokeLinecap: 'round', strokeLinejoin: 'round' },
            React.createElement('path', { d: 'M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z' }),
            React.createElement('circle', { cx: 12, cy: 10, r: 3 })
        );

        const Home = () => React.createElement('svg', { width: 16, height: 16, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2, strokeLinecap: 'round', strokeLinejoin: 'round' },
            React.createElement('path', { d: 'm3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z' }),
            React.createElement('polyline', { points: '9,22 9,12 15,12 15,22' })
        );

        const DollarSign = () => React.createElement('svg', { width: 16, height: 16, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2, strokeLinecap: 'round', strokeLinejoin: 'round' },
            React.createElement('line', { x1: 12, y1: 1, x2: 12, y2: 23 }),
            React.createElement('path', { d: 'M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6' })
        );

        const Ruler = () => React.createElement('svg', { width: 16, height: 16, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2, strokeLinecap: 'round', strokeLinejoin: 'round' },
            React.createElement('path', { d: 'M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z' })
        );

        const Camera = () => React.createElement('svg', { width: 20, height: 20, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2, strokeLinecap: 'round', strokeLinejoin: 'round' },
            React.createElement('path', { d: 'M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z' }),
            React.createElement('circle', { cx: 12, cy: 13, r: 3 })
        );

        const FileCheck = () => React.createElement('svg', { width: 14, height: 14, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2, strokeLinecap: 'round', strokeLinejoin: 'round' },
            React.createElement('path', { d: 'M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z' }),
            React.createElement('polyline', { points: '14,2 14,8 20,8' }),
            React.createElement('polyline', { points: '9,15 11,17 16,12' })
        );

        const ChevronDown = () => React.createElement('svg', { width: 16, height: 16, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
            React.createElement('polyline', { points: '6,9 12,15 18,9' })
        );

        const ChevronUp = () => React.createElement('svg', { width: 16, height: 16, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
            React.createElement('polyline', { points: '18,15 12,9 6,15' })
        );

        const AlertCircle = () => React.createElement('svg', { width: 20, height: 20, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
            React.createElement('circle', { cx: 12, cy: 12, r: 10 }),
            React.createElement('line', { x1: 12, y1: 8, x2: 12, y2: 12 }),
            React.createElement('line', { x1: 12, y1: 16, x2: 12.01, y2: 16 })
        );

        const AlertTriangle = () => React.createElement('svg', { width: 14, height: 14, viewBox: '0 0 24 24', fill: 'none', stroke: 'currentColor', strokeWidth: 2 },
            React.createElement('path', { d: 'm21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z' }),
            React.createElement('path', { d: 'M12 9v4' }),
            React.createElement('path', { d: 'm12 17 .01 0' })
        );

        const getPropertyIcon = (type) => {
            switch(type) {
                case 'ä½å®…': return React.createElement(Home, { className: "w-3 h-3" });
                case 'å•†èˆ–': return React.createElement('span', { className: "text-xs" }, 'ğŸª');
                case 'æ‘å±‹': return React.createElement('span', { className: "text-xs" }, 'ğŸ˜ï¸');
                case 'å¯«å­—æ¨“': return React.createElement('span', { className: "text-xs" }, 'ğŸ¢');
                case 'æœ‰è“‹è»Šä½': return React.createElement('span', { className: "text-xs" }, 'ğŸš—');
                default: return React.createElement(Home, { className: "w-3 h-3" });
            }
        };

        const PropertySearchApp = () => {
            const [properties, setProperties] = useState([]);
            const [searchTerm, setSearchTerm] = useState('');
            const [selectedType, setSelectedType] = useState('');
            const [selectedRooms, setSelectedRooms] = useState('');
            const [priceRange, setPriceRange] = useState([0, 2000]);
            const [areaRange, setAreaRange] = useState([0, 2000]);
            const [sortBy, setSortBy] = useState('');
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);
            const [showFilters, setShowFilters] = useState(false);

            // Load data from API
            useEffect(() => {
                const loadDataFromAPI = async () => {
                    try {
                        setLoading(true);
                        setError(null);
                        
                        console.log('ğŸ” Loading property data from API...');
                        console.log('ğŸ“ API URL:', getApiUrl());
                        
                        const response = await fetch(getApiUrl());
                        
                        if (!response.ok) {
                            throw new Error(`API é€£æ¥å¤±æ•— (${response.status})`);
                        }
                        
                        const data = await response.json();
                        
                        if (!data.success || !data.properties || data.properties.length === 0) {
                            throw new Error('æœªèƒ½ç²å–ç‰©æ¥­è³‡æ–™');
                        }
                        
                        console.log('âœ… API response received');
                        console.log('ğŸ‰ Successfully loaded', data.properties.length, 'properties');
                        
                        setProperties(data.properties);
                        
                    } catch (error) {
                        console.error('âŒ Error loading data from API:', error);
                        setError(error.message);
                    } finally {
                        setLoading(false);
                    }
                };

                loadDataFromAPI();
            }, []);

            // Get unique property types and room counts for filters
            const propertyTypes = useMemo(() => {
                return [...new Set(properties.map(p => p['é¡å‹']).filter(Boolean))];
            }, [properties]);

            const roomCounts = useMemo(() => {
                const rooms = [];
                properties.forEach(property => {
                    const layout = property['é–“éš”'];
                    if (layout && layout !== '-') {
                        const roomMatch = layout.match(/(\d+)æˆ¿/);
                        if (roomMatch) {
                            rooms.push(parseInt(roomMatch[1]));
                        } else if (layout.includes('é–‹æ”¾å¼')) {
                            rooms.push(0);
                        }
                    }
                });
                return [...new Set(rooms)].sort((a, b) => a - b);
            }, [properties]);

            // Helper function to extract room count from layout
            const getRoomCount = (layout) => {
                if (!layout || layout === '-') return null;
                if (layout.includes('é–‹æ”¾å¼')) return 0;
                const roomMatch = layout.match(/(\d+)æˆ¿/);
                return roomMatch ? parseInt(roomMatch[1]) : null;
            };

            // Filter and sort properties
            const filteredAndSortedProperties = useMemo(() => {
                let filtered = properties.filter(property => {
                    const matchesSearch = !searchTerm || 
                        property['ç‰©æ¥­åœ°å€ (Full address)']?.toLowerCase().includes(searchTerm.toLowerCase()) ||
                        property['åœ°å€ (Simplified version)']?.toLowerCase().includes(searchTerm.toLowerCase());
                    
                    const matchesType = !selectedType || property['é¡å‹'] === selectedType;
                    const matchesRooms = !selectedRooms || getRoomCount(property['é–“éš”']) === parseInt(selectedRooms);
                    const matchesPrice = property.priceNum >= priceRange[0] && property.priceNum <= priceRange[1];
                    const matchesArea = !property.areaNum || (property.areaNum >= areaRange[0] && property.areaNum <= areaRange[1]);
                    
                    return matchesSearch && matchesType && matchesRooms && matchesPrice && matchesArea;
                });

                if (sortBy === 'price-low') {
                    filtered.sort((a, b) => a.priceNum - b.priceNum);
                } else if (sortBy === 'price-high') {
                    filtered.sort((a, b) => b.priceNum - a.priceNum);
                } else if (sortBy === 'area-large') {
                    filtered.sort((a, b) => (b.areaNum || 0) - (a.areaNum || 0));
                } else if (sortBy === 'area-small') {
                    filtered.sort((a, b) => (a.areaNum || 0) - (b.areaNum || 0));
                }

                return filtered;
            }, [properties, searchTerm, selectedType, selectedRooms, priceRange, areaRange, sortBy]);

            // Quick filter functions
            const clearAllFilters = () => {
                setSearchTerm('');
                setSelectedType('');
                setSelectedRooms('');
                setPriceRange([0, 2000]);
                setAreaRange([0, 2000]);
                setSortBy('');
            };

            const setQuickPriceRange = (min, max) => {
                setPriceRange([min, max]);
            };

            const retryLoading = () => {
                setError(null);
                setLoading(true);
                const loadDataFromAPI = async () => {
                    try {
                        const response = await fetch(getApiUrl());
                        if (!response.ok) throw new Error(`API é€£æ¥å¤±æ•— (${response.status})`);
                        const data = await response.json();
                        if (!data.success || !data.properties) throw new Error('æœªèƒ½ç²å–ç‰©æ¥­è³‡æ–™');
                        setProperties(data.properties);
                    } catch (error) {
                        setError(error.message);
                    } finally {
                        setLoading(false);
                    }
                };
                loadDataFromAPI();
            };

            const PropertyCard = ({ property }) => (
                React.createElement('div', {
                    className: "property-card bg-white rounded-2xl shadow-lg hover:shadow-2xl border border-gray-100 hover:border-blue-200 overflow-hidden"
                },
                    // Modern Image Section with gradient overlay
                    React.createElement('div', { className: "relative h-48 overflow-hidden" },
                        property['å–®ä½ç›¸ç‰‡'] ? 
                            React.createElement('a', {
                                href: property['å–®ä½ç›¸ç‰‡'],
                                target: "_blank",
                                rel: "noopener noreferrer",
                                className: "block h-full group"
                            },
                                React.createElement('div', { 
                                    className: "absolute inset-0 bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 flex items-center justify-center group-hover:scale-110 transition-transform duration-300"
                                },
                                    React.createElement(Camera, { className: "text-white w-8 h-8 animate-float" }),
                                    React.createElement('span', { className: "text-white ml-3 font-semibold" }, 'æŸ¥çœ‹ç›¸ç‰‡')
                                )
                            ) : 
                            React.createElement('div', { 
                                className: "h-full bg-gradient-to-br from-gray-300 to-gray-400 flex items-center justify-center"
                            },
                                React.createElement('span', { className: "text-gray-600 font-medium" }, 'æš«ç„¡åœ–ç‰‡')
                            ),
                        
                        // Property type badge with modern styling
                        React.createElement('div', { className: "absolute top-4 left-4" },
                            property['é¡å‹'] && React.createElement('span', { 
                                className: "inline-flex items-center px-3 py-1.5 glass-effect text-gray-700 text-sm font-semibold rounded-full shadow-lg border border-white/30" 
                            },
                                getPropertyIcon(property['é¡å‹']),
                                React.createElement('span', { className: "ml-2" }, property['é¡å‹'])
                            )
                        ),
                        
                        // Status badge
                        property['ç‹€æ³'] && React.createElement('div', { className: "absolute top-4 right-4" },
                            React.createElement('span', { 
                                className: "px-3 py-1.5 bg-green-500 text-white text-sm font-semibold rounded-full shadow-lg" 
                            }, property['ç‹€æ³'])
                        )
                    ),

                    React.createElement('div', { className: "p-6" },
                        // Address Section with modern typography
                        React.createElement('div', { className: "mb-4" },
                            React.createElement('div', { className: "flex items-start mb-2" },
                                React.createElement(MapPin, { className: "text-blue-500 mr-3 mt-1 flex-shrink-0 w-5 h-5" }),
                                React.createElement('div', { className: "min-w-0 flex-1" },
                                    React.createElement('h3', { className: "font-bold text-gray-900 text-lg leading-tight mb-1" },
                                        property['åœ°å€ (Simplified version)']
                                    ),
                                    React.createElement('p', { className: "text-gray-600 text-sm line-clamp-2 leading-relaxed" },
                                        property['ç‰©æ¥­åœ°å€ (Full address)']
                                    )
                                )
                            )
                        ),

                        // Price with gradient effect
                        React.createElement('div', { className: "mb-5" },
                            React.createElement('div', { className: "flex items-baseline space-x-3" },
                                React.createElement('span', { className: "text-3xl font-bold price-gradient" }, 
                                    property.displayPrice
                                ),
                                property.displayArea && property.displayArea !== '-' && property.priceNum && React.createElement('span', { className: "text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded-full" }, 
                                    `${Math.round(property.priceNum * 10000 / parseInt(property.displayArea.replace(',', '')))} psf`
                                )
                            )
                        ),

                        // Property Details with modern icons
                        React.createElement('div', { className: "flex items-center justify-between mb-5" },
                            React.createElement('div', { className: "flex items-center space-x-6" },
                                // Layout
                                property['é–“éš”'] && property['é–“éš”'] !== '-' && React.createElement('div', { className: "flex items-center" },
                                    React.createElement(Home, { className: "w-4 h-4 text-blue-500 mr-2" }),
                                    React.createElement('span', { className: "text-sm font-medium text-gray-700" }, property['é–“éš”'])
                                ),

                                // Area
                                property.displayArea && property.displayArea !== '-' && React.createElement('div', { className: "flex items-center" },
                                    React.createElement(Ruler, { className: "w-4 h-4 text-purple-500 mr-2" }),
                                    React.createElement('span', { className: "text-sm font-medium text-gray-700" }, 
                                        property.displayArea,
                                        React.createElement('span', { className: "text-xs text-gray-500 ml-1" }, 'å‘')
                                    )
                                )
                            )
                        ),

                        // Status badges with modern styling
                        React.createElement('div', { className: "flex flex-wrap gap-2 mb-5" },
                            property['å¥‘'] === 'YES' && React.createElement('span', { 
                                className: "inline-flex items-center px-3 py-1.5 bg-green-100 text-green-800 text-xs font-semibold rounded-full border border-green-200" 
                            },
                                React.createElement(FileCheck, { className: "mr-1.5 w-3 h-3" }),
                                'æœ‰å¥‘'
                            ),
                            property['å¥‘'] === 'NO' && React.createElement('span', { 
                                className: "inline-flex items-center px-3 py-1.5 bg-red-100 text-red-800 text-xs font-semibold rounded-full border border-red-200" 
                            },
                                React.createElement(AlertTriangle, { className: "mr-1.5 w-3 h-3" }),
                                'ç„¡å¥‘'
                            ),
                            property['è½æˆ/å…¥ä¼™\nå¹´ä»½'] && property['è½æˆ/å…¥ä¼™\nå¹´ä»½'] !== '-' && React.createElement('span', { 
                                className: "inline-block px-3 py-1.5 bg-blue-100 text-blue-800 text-xs font-semibold rounded-full" 
                            }, property['è½æˆ/å…¥ä¼™\nå¹´ä»½'])
                        ),

                        // Features with modern styling
                        property['å–®ä½ç‰¹è‰²'] && React.createElement('div', { className: "mb-4" },
                            React.createElement('div', { className: "bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-xl border-l-4 border-blue-400" },
                                React.createElement('p', { className: "text-sm text-gray-700 leading-relaxed line-clamp-2" },
                                    property['å–®ä½ç‰¹è‰²']
                                )
                            )
                        )
                    )
                )
            );
            
            if (loading) {
                return React.createElement('div', {
                    className: "min-h-screen flex items-center justify-center"
                },
                    React.createElement('div', { className: "text-center glass-effect rounded-3xl p-12 shadow-2xl border border-white/30" },
                        React.createElement('div', { className: "animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-6" }),
                        React.createElement('h2', { className: "text-2xl font-bold text-gray-800 mb-3" }, 'ğŸ”„ æ­£åœ¨è¼‰å…¥æœ€æ–°ç‰©æ¥­è³‡æ–™...'),
                        React.createElement('p', { className: "text-gray-600" }, 'é¦–æ¬¡è¼‰å…¥å¯èƒ½éœ€è¦å¹¾ç§’é˜')
                    )
                );
            }

            if (error) {
                return React.createElement('div', {
                    className: "min-h-screen flex items-center justify-center p-4"
                },
                    React.createElement('div', { className: "max-w-md mx-auto text-center glass-effect rounded-3xl shadow-2xl p-10 border border-white/30" },
                        React.createElement(AlertCircle, { className: "mx-auto text-red-500 mb-6" }),
                        React.createElement('h2', { className: "text-2xl font-bold text-gray-900 mb-4" }, 'è¼‰å…¥å¤±æ•—'),
                        React.createElement('p', { className: "text-gray-600 mb-8" }, error),
                        React.createElement('div', { className: "space-y-4" },
                            React.createElement('button', {
                                onClick: retryLoading,
                                className: "w-full px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300 font-semibold shadow-lg transform hover:scale-105"
                            }, 'é‡æ–°è¼‰å…¥'),
                            React.createElement('p', { className: "text-sm text-gray-500" }, 
                                'å¦‚å•é¡ŒæŒçºŒï¼Œè«‹æª¢æŸ¥ç¶²çµ¡é€£æ¥æˆ–è¯çµ¡æŠ€è¡“æ”¯æ´'
                            )
                        )
                    )
                );
            }

            return React.createElement('div', { className: "min-h-screen pb-12" },
                // Modern Hero Header
                React.createElement('div', { className: "hero-gradient text-white py-16 mb-8" },
                    React.createElement('div', { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center" },
                        React.createElement('h1', { className: "text-6xl font-bold mb-4 animate-float" }, 'ğŸ  æœ€æ–°éŠ€ä¸»ç›¤'),
                        React.createElement('p', { className: "text-xl text-blue-100 mb-2" }, 'ç²¾é¸å„ªè³ªç‰©æ¥­ï¼ŒæŠŠæ¡æŠ•è³‡è‰¯æ©Ÿ'),
                        React.createElement('p', { className: "text-blue-200" }, 'æ›´æ–°æ—¥æœŸ: 2025å¹´6æœˆ23æ—¥')
                    )
                ),

                // Modern Search and Filters
                React.createElement('div', { className: "max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" },
                    React.createElement('div', { className: "glass-effect rounded-3xl shadow-2xl p-8 mb-8 border border-white/30" },
                        // Enhanced Search Bar
                        React.createElement('div', { className: "mb-8" },
                            React.createElement('div', { className: "relative" },
                                React.createElement(Search, { className: "absolute left-4 top-4 text-gray-400" }),
                                React.createElement('input', {
                                    type: "text",
                                    placeholder: "ğŸ” æœå°‹åœ°å€ã€åœ°å€æˆ–ç‰©æ¥­é¡å‹...",
                                    className: "search-input w-full pl-12 pr-6 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-300 text-lg",
                                    value: searchTerm,
                                    onChange: (e) => setSearchTerm(e.target.value)
                                })
                            )
                        ),

                        // Results and Filter Toggle
                        React.createElement('div', { className: "flex items-center justify-between mb-6" },
                            React.createElement('button', {
                                onClick: () => setShowFilters(!showFilters),
                                className: "flex items-center px-6 py-3 text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-xl transition-all duration-300 font-semibold"
                            }, 
                                React.createElement(Filter, { className: "mr-2" }),
                                'é€²éšç¯©é¸',
                                showFilters ? React.createElement(ChevronUp, { className: "ml-2" }) : React.createElement(ChevronDown, { className: "ml-2" })
                            ),
                            
                            React.createElement('div', { className: "flex items-center gap-6" },
                                React.createElement('div', { className: "bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl px-6 py-3 text-white shadow-lg" },
                                    React.createElement('span', { className: "text-sm font-medium opacity-90" }, 'æœå°‹çµæœ: '),
                                    React.createElement('span', { className: "text-2xl font-bold" }, filteredAndSortedProperties.length)
                                )
                            )
                        ),

                        // Enhanced Collapsible Advanced Filters
                        showFilters && React.createElement('div', { className: "border-t border-gray-200 pt-8 space-y-8" },
                            // Property Type with modern buttons
                            React.createElement('div', null,
                                React.createElement('h4', { className: "text-lg font-bold text-gray-800 mb-4 flex items-center" },
                                    React.createElement(Home, { className: "mr-3 text-blue-500" }),
                                    'ç‰©æ¥­é¡å‹'
                                ),
                                React.createElement('div', { className: "flex flex-wrap gap-3" },
                                    ['ä½å®…', 'å•†èˆ–', 'æ‘å±‹', 'å¯«å­—æ¨“', 'æœ‰è“‹è»Šä½'].map(type => 
                                        React.createElement('button', {
                                            key: type,
                                            onClick: () => setSelectedType(selectedType === type ? '' : type),
                                            className: `filter-button px-6 py-3 text-sm font-semibold rounded-xl transition-all duration-300 border-2 ${
                                                selectedType === type 
                                                    ? 'active' 
                                                    : 'bg-white text-gray-700 border-gray-200 hover:border-blue-300 hover:bg-blue-50 hover:shadow-md'
                                            }`
                                        }, type === 'æœ‰è“‹è»Šä½' ? 'è»Šä½' : type)
                                    )
                                )
                            ),

                            // Room Count with modern buttons
                            (selectedType === 'ä½å®…' || selectedType === 'æ‘å±‹' || !selectedType) && React.createElement('div', null,
                                React.createElement('h4', { className: "text-lg font-bold text-gray-800 mb-4 flex items-center" },
                                    React.createElement(Home, { className: "mr-3 text-purple-500" }),
                                    'æˆ¿é–“æ•¸ç›®',
                                    React.createElement('span', { className: "text-sm text-gray-500 ml-3 font-normal" }, '(ä½å®…/æ‘å±‹)')
                                ),
                                React.createElement('div', { className: "flex flex-wrap gap-3" },
                                    React.createElement('button', {
                                        onClick: () => setSelectedRooms(selectedRooms === '0' ? '' : '0'),
                                        className: `filter-button px-6 py-3 text-sm font-semibold rounded-xl transition-all duration-300 border-2 ${
                                            selectedRooms === '0' 
                                                ? 'active' 
                                                : 'bg-white text-gray-700 border-gray-200 hover:border-purple-300 hover:bg-purple-50 hover:shadow-md'
                                        }`
                                    }, 'é–‹æ”¾å¼'),
                                    roomCounts.filter(count => count > 0).map(count => 
                                        React.createElement('button', {
                                            key: count,
                                            onClick: () => setSelectedRooms(selectedRooms === count.toString() ? '' : count.toString()),
                                            className: `filter-button px-6 py-3 text-sm font-semibold rounded-xl transition-all duration-300 border-2 ${
                                                selectedRooms === count.toString() 
                                                    ? 'active' 
                                                    : 'bg-white text-gray-700 border-gray-200 hover:border-purple-300 hover:bg-purple-50 hover:shadow-md'
                                            }`
                                        }, count + 'æˆ¿')
                                    )
                                )
                            ),

                            // Price Range with gradient buttons
                            React.createElement('div', null,
                                React.createElement('h4', { className: "text-lg font-bold text-gray-800 mb-4 flex items-center" },
                                    React.createElement(DollarSign, { className: "mr-3 text-green-500" }),
                                    'åƒ¹æ ¼ç¯„åœ'
                                ),
                                React.createElement('div', { className: "flex flex-wrap gap-3" },
                                    [
                                        { label: '300è¬ä»¥ä¸‹', min: 0, max: 300 },
                                        { label: '300-500è¬', min: 300, max: 500 },
                                        { label: '500-800è¬', min: 500, max: 800 },
                                        { label: '800-1200è¬', min: 800, max: 1200 },
                                        { label: '1200è¬ä»¥ä¸Š', min: 1200, max: 2000 }
                                    ].map(range => 
                                        React.createElement('button', {
                                            key: range.label,
                                            onClick: () => setQuickPriceRange(range.min, range.max),
                                            className: `filter-button px-6 py-3 text-sm font-semibold rounded-xl transition-all duration-300 border-2 ${
                                                priceRange[0] === range.min && priceRange[1] === range.max
                                                    ? 'active' 
                                                    : 'bg-white text-gray-700 border-gray-200 hover:border-green-300 hover:bg-green-50 hover:shadow-md'
                                            }`
                                        }, range.label)
                                    )
                                )
                            ),

                            // Sort and Clear with modern styling
                            React.createElement('div', { className: "flex flex-wrap items-center justify-between gap-6 pt-6 border-t border-gray-200" },
                                React.createElement('div', { className: "flex items-center gap-4" },
                                    React.createElement('select', {
                                        className: "px-4 py-3 text-sm border-2 border-gray-200 rounded-xl focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 bg-white font-medium",
                                        value: sortBy,
                                        onChange: (e) => setSortBy(e.target.value)
                                    },
                                        React.createElement('option', { value: "" }, 'é è¨­æ’åº'),
                                        React.createElement('option', { value: "price-low" }, 'åƒ¹æ ¼ â†‘'),
                                        React.createElement('option', { value: "price-high" }, 'åƒ¹æ ¼ â†“'),
                                        React.createElement('option', { value: "area-large" }, 'é¢ç© â†“'),
                                        React.createElement('option', { value: "area-small" }, 'é¢ç© â†‘')
                                    )
                                ),

                                React.createElement('button', {
                                    onClick: clearAllFilters,
                                    className: "px-6 py-3 text-sm text-red-600 hover:text-red-800 hover:bg-red-50 rounded-xl transition-all duration-300 border-2 border-red-200 hover:border-red-300 font-semibold"
                                }, 'æ¸…é™¤ç¯©é¸')
                            )
                        )
                    ),
                                
                    // Enhanced Property Grid
                    React.createElement('div', { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" },
                        filteredAndSortedProperties.map((property, index) =>
                            React.createElement(PropertyCard, { key: index, property: property })
                        )
                    ),

                    // Enhanced No Results
                    filteredAndSortedProperties.length === 0 && React.createElement('div', { className: "text-center py-16" },
                        React.createElement('div', { className: "glass-effect rounded-3xl p-12 shadow-2xl border border-white/30 max-w-md mx-auto" },
                            React.createElement('div', { className: "text-6xl mb-6 animate-float" }, 'ğŸ '),
                            React.createElement('h3', { className: "text-2xl font-bold text-gray-800 mb-4" }, 'æœªæ‰¾åˆ°ç¬¦åˆæ¢ä»¶çš„ç‰©æ¥­'),
                            React.createElement('p', { className: "text-gray-600 mb-8 leading-relaxed" }, 'è«‹èª¿æ•´æœå°‹æ¢ä»¶å¾Œå†è©¦'),
                            React.createElement('button', {
                                onClick: clearAllFilters,
                                className: "px-8 py-4 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300 font-semibold shadow-lg transform hover:scale-105"
                            }, 'æ¸…é™¤æ‰€æœ‰ç¯©é¸')
                        )
                    )
                )
            );
        };

        ReactDOM.render(React.createElement(PropertySearchApp), document.getElementById('root'));
    </script>
</body>
</html>